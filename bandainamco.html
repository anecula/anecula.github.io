<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Welcome file</title>
  <link rel="stylesheet" href="https://stackedit.io/style.css" />
</head>

<body class="stackedit">
  <div class="stackedit__left">
    <div class="stackedit__toc">
      
<ul>
<li>
<ul>
<li><a href="#team-and-methodology">Team and methodology</a></li>
<li><a href="#technologies">Technologies</a></li>
</ul>
</li>
<li><a href="#tickets-example">Tickets example:</a>
<ul>
<li><a href="#db-backup-tester">db-backup-tester</a></li>
<li><a href="#atlassian-confluence-troubleshooting">Atlassian Confluence troubleshooting</a></li>
<li><a href="#parse-confluenceaccesslog-output-per-user">Parse confluenceAccessLog output per user:</a></li>
</ul>
</li>
</ul>

    </div>
  </div>
  <div class="stackedit__right">
    <div class="stackedit__html">
      <p><img src="http://www.bandainamcoent.ro/sites/all/themes/bng/logo.png" alt="enter image description here"></p>
<p>I started colaborating with BandaiNamco on May 2017.<br>
Most of the job was done  <strong>on site &amp;&amp; remote</strong>.</p>
<h2 id="team-and-methodology">Team and methodology</h2>
<p>DevOps team: 3 members</p>
<h2 id="technologies">Technologies</h2>
<p><strong>OS</strong> : CentOS<br>
<strong>Scripting</strong>: bash<br>
<strong>Cloud</strong>: Google cloud, AWS<br>
<strong>Tools</strong>:</p>
<ul>
<li>Provisioning-config-management: Ansible</li>
<li>Monitoring and metric analytics: Grafana SCM: Git, Gitlab, GitHub, Bitbucket</li>
</ul>
<h1 id="tickets-example">Tickets example:</h1>
<h2 id="db-backup-tester"><strong>db-backup-tester</strong></h2>
<ul>
<li>ansible will be used to:</li>
</ul>
<pre><code>set up a new instance in EC2 AWS
install msql, aws client
copy the script that will test the backups
run the script
</code></pre>
<ul>
<li>build the sh script that will do:</li>
</ul>
<pre><code>cycle through a configurable number of buckets
for each bucket is a folder per machine (only on live machines)
in each folder is one folder per date, only the last x days will be tested (x is configurable in the script)
in each date folder is one file per data base
the script will download all the archives and will load them on the mysql server
if at leat one DB restauration fails the hole day is marked as failed
all the info will be added to a log
at the end of the script the log will be send to a configurable email address
</code></pre>
<h2 id="atlassian-confluence-troubleshooting"><strong>Atlassian Confluence troubleshooting</strong></h2>
<ul>
<li>Check the health and identifies problems</li>
<li>Scan logs and match error messages and problem descriptions from them with bug reports and KnowledgeBase articles</li>
</ul>
<h2 id="parse-confluenceaccesslog-output-per-user">Parse confluenceAccessLog output per user:</h2>
<pre><code>Confluence has a built-in access logging mechanism, you can enable it and send all user actions to a log file ${catalina.home}/logs/atlassian-confluence-access.log
This file can get hard to read

Script that will parse the log file and has the following output:

1 2017-08-10 user /doauthenticate.action
1 2017-08-10 user /download/attachments/1146926/user-avatar
1 2017-08-10 user /rest/supportHealthCheck/1.0/dismissNotification

 each user has a various number of action, each action can be done numerous times
 we need a script to count every action done by user and print them by date sorted in reverse
</code></pre>

    </div>
  </div>
</body>

</html>
